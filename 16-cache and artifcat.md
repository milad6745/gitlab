این متن در مورد نحوه استفاده از **Cache** در GitLab CI/CD صحبت می‌کند. Cache به شما این امکان را می‌دهد که فایل‌ها و وابستگی‌ها (dependencies) را که ممکن است در مراحل مختلف یا pipeline‌های مختلف مورد نیاز باشند، ذخیره کنید و از دانلود مجدد آن‌ها در هر مرحله جلوگیری کنید. این کار باعث بهبود عملکرد و کاهش زمان اجرای pipeline‌ها می‌شود.

### خلاصه نکات اصلی:

1. **Cache در GitLab CI/CD:**
   - **Cache** فایل‌ها و وابستگی‌هایی است که توسط یک job دانلود می‌شود و ذخیره می‌شود. job‌های بعدی که از همان Cache استفاده می‌کنند، نیازی به دانلود مجدد این فایل‌ها ندارند.
   - Cache برای ذخیره وابستگی‌هایی مثل پکیج‌ها یا کتابخانه‌هایی که از اینترنت دانلود می‌کنید مناسب است.

2. **Cache در مقابل Artifacts:**
   - **Cache** برای ذخیره وابستگی‌ها استفاده می‌شود و در مکانی که GitLab Runner نصب شده است ذخیره می‌شود.
   - **Artifacts** برای انتقال نتایج موقت (مثل فایل‌های کامپایل شده) بین مراحل مختلف استفاده می‌شود و در GitLab ذخیره می‌شوند.
   - Cache‌ها و Artifacts به صورت پیش‌فرض برای پروژه‌های مختلف به اشتراک گذاشته نمی‌شوند و مسیرهای آن‌ها نسبی نسبت به دایرکتوری پروژه هستند.

3. **تعریف Cache:**
   - می‌توانید Cache را برای هر job با استفاده از کلمه‌کلیدی `cache` تعریف کنید. به صورت پیش‌فرض Cache غیرفعال است.
   - Cache‌ها می‌توانند بین pipeline‌های بعدی استفاده شوند، اگر وابستگی‌ها یکسان باشند.
   - پروژه‌های مختلف نمی‌توانند Cache را به اشتراک بگذارند.


این متن در مورد تفاوت‌ها و نحوه استفاده از **Cache** و **Artifacts** در GitLab CI/CD صحبت می‌کند. این دو ویژگی به شما کمک می‌کنند تا فرآیندهای CI/CD خود را بهینه کنید، اما هر کدام کاربردهای خاص خود را دارند.

### **Cache:**
- **تعریف Cache برای هر job:** شما می‌توانید با استفاده از کلمه‌کلیدی `cache` برای هر job به صورت جداگانه، Cache را تعریف کنید. اگر این کار را نکنید، Cache به‌صورت پیش‌فرض غیرفعال است.
- **استفاده مجدد در pipeline‌های بعدی:** اگر Cache در pipeline قبلی ایجاد شده باشد، pipeline‌های بعدی می‌توانند از همان Cache استفاده کنند.
- **استفاده در job‌های مشابه در یک pipeline:** اگر وابستگی‌های job‌ها یکسان باشند، job‌های بعدی در همان pipeline می‌توانند از Cache استفاده کنند.
- **عدم اشتراک‌گذاری بین پروژه‌ها:** Cache‌ها بین پروژه‌های مختلف به اشتراک گذاشته نمی‌شوند.
- **جداسازی Cache بین شاخه‌های محافظت‌شده و محافظت‌نشده:** به‌صورت پیش‌فرض، شاخه‌های محافظت‌شده و محافظت‌نشده Cache‌های جداگانه دارند. اما شما می‌توانید این رفتار را تغییر دهید.

### **Artifacts:**
- **تعریف Artifacts برای هر job:** مانند Cache، شما باید Artifacts را برای هر job به صورت جداگانه تعریف کنید.
- **استفاده در مراحل بعدی:** job‌های مراحل بعدی در همان pipeline می‌توانند از Artifacts استفاده کنند.
- **عدم اشتراک‌گذاری بین پروژه‌ها:** مانند Cache، Artifacts نیز بین پروژه‌های مختلف به اشتراک گذاشته نمی‌شوند.
- **تاریخ انقضاء:** به‌صورت پیش‌فرض، Artifacts پس از ۳۰ روز منقضی می‌شوند، اما شما می‌توانید زمان انقضاء را به‌صورت سفارشی تنظیم کنید.
- **عدم انقضاء آخرین Artifacts:** اگر گزینه "keep latest artifacts" فعال باشد، آخرین Artifacts منقضی نمی‌شوند.
- **کنترل دسترسی به Artifacts:** شما می‌توانید با استفاده از کلمه‌کلیدی `dependencies` کنترل کنید که کدام job‌ها بتوانند به Artifacts دسترسی داشته باشند.

### **تفاوت اصلی:**
- **Cache:** برای ذخیره وابستگی‌ها (مانند کتابخانه‌ها یا پکیج‌ها) که ممکن است در مراحل مختلف یا pipeline‌های بعدی نیاز باشند.
- **Artifacts:** برای انتقال نتایج موقت (مانند فایل‌های کامپایل شده یا خروجی job) بین مراحل مختلف در همان pipeline استفاده می‌شود.

این تفاوت‌ها به شما کمک می‌کنند تا تصمیم بگیرید که کدام یک از این ویژگی‌ها را برای بهینه‌سازی و مدیریت بهتر فرآیند CI/CD خود استفاده کنید.
