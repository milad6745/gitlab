ุนุงูู! ุญุงูุง ูโุฑู ุณุฑุงุบ **ูุณูุช ต: ูุฏุฑุช ูุงูโูุง ุฏุฑ GitLab CI/CD โ ุจุง ุงุณุชูุงุฏู ุงุฒ `artifacts` ู `cache`**.
ุงู ุจุฎุด ุจุฑุง performanceุ ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ูุงู ุจู jobูุงุ ู ูฺฏูุฏุงุฑ ุฎุฑูุฌโูุง ุฎู ูููู.

---

## ๐น ูุณูุช ต: `artifacts` ู `cache` ุฏุฑ GitLab CI/CD

---

### โ ุชูุงูุช ุงุตู ุจู `artifacts` ู `cache`

| ูฺฺฏ            | `artifacts`                            | `cache`                                             |
| ---------------- | -------------------------------------- | --------------------------------------------------- |
| ูุฏู              | ูฺฏูุฏุงุฑ ุฎุฑูุฌ jobูุง ุจุฑุง ูุฑุงุญู ุจุนุฏ    | ุงูุฒุงุด ุณุฑุนุช ุงุฌุฑุง ุจุง reuse ูุงูโูุง                   |
| ูุฏุช ูฺฏูุฏุงุฑ      | ุชุง ูพุงุงู pipeline (ุง ุจุดุชุฑ ุจุง expire) | ุจู pipelineูุง ูู ูโูููู (ูุงุจู share ุจู branchูุง) |
| ุงูุชูุงู ุจู jobูุง | ุจูู (ุจู stage ุจุนุฏ)                    | ูู ูุณุชููุงูุ ููุท local ุจู runner                    |
| ูุซุงู ุงุณุชูุงุฏู     | ูุงูโูุง build ุดุฏูุ ูุงฺฏโูุงุ ฺฏุฒุงุฑุด ุชุณุช  | `node_modules/`, `.m2/`, `vendor/`                  |

---

### โ ุชุนุฑู `artifacts`

```yaml
build:
  stage: build
  script:
    - mkdir dist
    - echo "some compiled output" > dist/output.txt
  artifacts:
    paths:
      - dist/
    expire_in: 1 hour
```

๐ ุชูุถุญ:

* `dist/` ุจู ุนููุงู artifact ุฐุฎุฑู ูุดู.
* ุฏุฑ jobูุง ุจุนุฏ ูุงุจู ุฏุณุชุฑุณู.
* ุจุนุฏ ุงุฒ ฑ ุณุงุนุช ุญุฐู ูุดู (ูฺฏุฑ ุงูฺฉู ุฏุณุช ูฺฏูุด ุฏุงุฑุฏ).

---

### โ ุงุณุชูุงุฏู ุงุฒ artifact ุฏุฑ job ุจุนุฏ

```yaml
test:
  stage: test
  script:
    - cat dist/output.txt
  dependencies:
    - build
```

๐ ูฺฉุชู:

* `dependencies:` ูุดุฎุต ูโฺฉูู ฺฉู test-job ููุท artifactโูุง job `build` ุฑู ูุงุฒู ุฏุงุฑู.
* ุงู ุจุงุนุซ ูโุดู GitLab ููุท ูููู ูุงูโูุง ุฑู ููุชูู ฺฉูู.

---

### โ ุชุนุฑู `cache`

```yaml
cache:
  paths:
    - node_modules/
    - .npm/
```

๐ ูฺฉุชู:

* ุงู ูพูุดูโูุง cache ูโุดู ู ุฏุฑ pipelineูุง ุจุนุฏ ุฏูุจุงุฑู ุงุณุชูุงุฏู ูโุดู (ุงฺฏุฑ ูููู runner ุจุงุดู).
* ุจุฑุง ุณุฑุนุช ฺฏุฑูุชู installูุง ุจุณุงุฑ ููุฏู.

---

### โ ุณุทุญโูุง ุงุณุชูุงุฏู ุงุฒ `cache`

* ุฏุฑ ุณุทุญ global (ุจุฑุง ฺฉู pipeline):

```yaml
cache:
  paths:
    - vendor/
```

* ุง ุฏุฑ ฺฉ job ุฎุงุต:

```yaml
job:
  stage: build
  script: composer install
  cache:
    key: "$CI_COMMIT_REF_SLUG"
    paths:
      - vendor/
```

> ๐ฆ `key:` ูุดุฎุต ูโฺฉูู ฺฉู cache ุจุฑุง ฺฉุฏูู ูุถุนุช ุจุงุดู (ูุซูุงู branch ุฎุงุต)

---

### โ ูุซุงู ฺฉุงูู `artifacts + cache`

```yaml
stages:
  - build
  - test

build:
  stage: build
  script:
    - npm ci
    - npm run build
  artifacts:
    paths:
      - dist/
    expire_in: 1 hour
  cache:
    paths:
      - node_modules/

test:
  stage: test
  script:
    - npm test
  dependencies:
    - build
  cache:
    paths:
      - node_modules/
```

---

### โ ุณูุงูุงุช ูุชุฏุงูู ุฏุฑ ูุตุงุญุจู:

| ุณุคุงู                               | ุฌูุงุจ ุฎูุงุตู                                                                             |
| ---------------------------------- | -------------------------------------------------------------------------------------- |
| ฺุฑุง ุงุฒ artifact ุงุณุชูุงุฏู ูโฺฉููุ   | ุจุฑุง ุงูุชูุงู ูุงู ุฎุฑูุฌ ฺฉ job ุจู jobูุง ุจุนุฏ                                           |
| ูุฑู artifact ู cacheุ              | artifact ุจู jobูุง ุฏุฑ ูููู pipeline ููุชูู ูโุดูุ cache ุจุฑุง performance ุจู pipelineูุง |
| `dependencies:` ุจู ฺู ุฏุฑุฏ ูโุฎูุฑูุ | ูุดุฎุต ูโฺฉูู ฺฉู job ููุท artifactูุง ุฎุงุต ุฑู ูุงุฒ ุฏุงุฑู                                   |

---

ุฏุฑ ูุณูุช ุจุนุฏ (ูุณูุช ถ) ูโุฑู ุณุฑุงุบ:
โ **ูุชุบุฑูุง ูุญุท (environment variables)**ุ ุงููุงุนุดููุ ู ูุญููโ ุงุณุชูุงุฏู ุงุฒ ุงููโูุง ุจุฑุง ุงููโุณุงุฒ ุงุทูุงุนุงุช ู ุฏุงูุงูฺฉ ฺฉุฑุฏู pipeline.

ุขูุงุฏูโุงุ
